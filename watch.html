<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YouTube Stream</title>
<style>
  body, html {margin:0;padding:0;height:100%;width:100%;background:black;}
  #player {width:100%;height:100%;}
</style>
</head>
<body>
<div id="player"></div>

<script>
  // Get channel ID from URL parameter
  const params = new URLSearchParams(window.location.search);
  const channelId = params.get("channel");
  
  if(!channelId) {
    document.body.innerHTML = "<h3 style='color:white;text-align:center;margin-top:20%'>No channel ID provided</h3>";
  } else {
    // Load YouTube IFrame API
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    const firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    
    // Create player when API is ready
    let player;
    window.onYouTubeIframeAPIReady = function() {
      player = new YT.Player('player', {
        height: '100%',
        width: '100%',
        videoId: 'latest',  // Special ID for latest upload/live
        playerVars: {
          'autoplay': 1,
          'controls': 1,
          'rel': 0,
          'modestbranding': 1,
          'origin': window.location.origin
        },
        events: {
          'onReady': function(event) {
            // Optional: you can add channel-specific logic here
            console.log('Player ready for channel:', channelId);
          }
        }
      });
    };
  }
</script>
</body>
</html>
